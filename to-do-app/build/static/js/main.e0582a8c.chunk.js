(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[1],{139:function(e,t,n){},144:function(e,t){},146:function(e,t){},159:function(e,t){},161:function(e,t){},189:function(e,t){},190:function(e,t){},195:function(e,t){},197:function(e,t){},204:function(e,t){},223:function(e,t){},261:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(133),i=n.n(r),a=(n(139),n(6)),u=n(35),l=n(3),s=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,281))})),j=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,277))})),b=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,278))})),h=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,279))}));var O=function(){var e=Object(c.useContext)(u.a).user;return Object(l.jsx)(c.Suspense,{fallback:Object(l.jsx)(l.Fragment,{}),children:Object(l.jsxs)(a.d,{children:[Object(l.jsx)(a.b,{exact:!0,path:"/",children:e?Object(l.jsx)(a.a,{to:"/home"}):Object(l.jsx)(j,{})}),Object(l.jsx)(a.b,{exact:!0,path:"/home",component:s}),Object(l.jsx)(a.b,{exact:!0,path:"/register",children:e?Object(l.jsx)(a.a,{to:"/home"}):Object(l.jsx)(b,{})}),Object(l.jsx)(a.b,{exact:!0,path:"/login",children:e?Object(l.jsx)(a.a,{to:"/home"}):Object(l.jsx)(h,{})})]})})},f=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,280)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))},d=n(34);i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(u.b,{children:Object(l.jsx)(O,{})})})}),document.getElementById("root")),f()},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(0),o=n(70),r=n(44),i=n(6),a=(n(140),n(3)),u=Object(c.createContext)();t.b=function(e){var t=e.children,n=function(){var e,t=Object(c.useState)(null),n=Object(r.a)(t,2),a=n[0],u=n[1],l=Object(c.useState)(window.localStorage.getItem("token")),s=Object(r.a)(l,2),j=s[0],b=s[1],h=Object(i.h)(),O=Object(i.g)();return Object(c.useEffect)((function(){u(j),fetch("/users",{headers:{Authorization:"Bearer "+j}}).then((function(e){return e.json()})).then((function(e){return u(e[0])})),"/"===h.pathname||"/register"===h.pathname||"/login"===h.pathname||j||O.replace("/")}),[j,O,h.pathname]),e={user:a,token:j,setToken:b,logOut:function(){window.localStorage.removeItem("token"),b(null)}},Object(o.a)(e,"token",j),Object(o.a)(e,"login",(function(e){console.log(e),window.localStorage.setItem("token",e),b(e)})),e}(),l=n.user,s=n.token,j=n.setToken,b=n.logOut,h=n.login;return Object(a.jsx)(u.Provider,{value:{user:l,token:s,setToken:j,logOut:b,login:h},children:t})}}},[[261,2,3]]]);
//# sourceMappingURL=main.e0582a8c.chunk.js.map